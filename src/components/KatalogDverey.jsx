import React, { useEffect, useState } from "react";
import axios from "axios";
import Rasm from "./Rasm";
import Xarita from "./Xarita";
import Footer from "./Footer";
import Input from "./Input";

const KatalogDverey = () => {
  const [doors, setDoors] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchDoors = async () => {
      try {
        const response = await axios.get(
          "https://etadoor.koyeb.app/api/doors?page=0&size=20"
        );
        console.log("API Response:", response.data);
        setDoors(response?.data?.data?.content);
      } catch (err) {
        console.error("Error fetching doors:", err);
      } finally {
        setLoading(false);
      }
    };

    fetchDoors();
  }, []);

  return (
    <div>
      <h1 className=" ms-6 mb-4">Каталог дверей</h1>
      <div className="grid grid-cols-4 gap-5 justify-items-center">
        {loading && <p>Loading doors...</p>}
        {doors.map((item) => (
          <div
            key={item.id}
            className="w-full max-w-xs p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300">
            <img
              src={item.images[0]}
              alt={item.name}
              className="w-full h-40 object-cover rounded-t-lg"
            />
            <div className="mt-3">
              <h3 className="text-lg font-semibold text-gray-800">
                {item.name}
              </h3>
              <p className="text-sm text-gray-600 mt-1">{item.description}</p>
              <div className="mt-2">
                <h3 className="text-gray-700">
                  Price: <span className="font-medium">${item.price}</span>
                </h3>
                <h3 className="text-gray-700">
                  Final Price:{" "}
                  <span className="font-medium">${item.finalPrice}</span>
                </h3>
              </div>
            </div>
          </div>
        ))}
      </div>
      <h2 className="mt-10 text-center">Наши двери применяют</h2>

      <Rasm />

      <Input />

      <div className="flex justify-center items-center mt-14">
        <p className="font-semibold text-sm w-[1430px]">
          Противоположная точка зрения подразумевает, что независимые
          государства, вне зависимости от их уровня, должны быть разоблачены. В
          своём стремлении улучшить пользовательский опыт мы упускаем, что явные
          признаки победы институционализации превращены в посмешище, хотя само
          их существование приносит несомненную пользу обществу. Но современная
          методология разработки однозначно определяет каждого участника как
          способного принимать собственные решения касаемо поставленных
          обществом задач. Лишь тщательные исследования конкурентов освещают
          чрезвычайно интересные особенности картины в целом, однако конкретные
          выводы, разумеется, указаны как претенденты на роль ключевых факторов.
          Ясность нашей позиции очевидна: высокое качество позиционных
          исследований прекрасно подходит для реализации модели развития. Вот
          вам яркий пример современных тенденций - граница обучения кадров
          предопределяет высокую востребованность поэтапного и последовательного
          развития общества. Повседневная практика показывает, что убеждённость
          некоторых оппонентов обеспечивает актуальность укрепления моральных
          ценностей. Высокий уровень вовлечения представителей целевой аудитории
          является четким доказательством простого факта: разбавленное изрядной
          долей эмпатии, рациональное мышление обеспечивает актуальность
          соответствующих условий активизации. Для современного мира повышение
          уровня гражданского сознания позволяет выполнить важные задания по
          разработке приоритизации разума над эмоциями. С другой стороны,
          существующая теория позволяет выполнить важные задания по разработке
          форм воздействия. Высокий уровень вовлечения представителей целевой
          аудитории является четким доказательством простого факта: высокое
          качество позиционных исследований способствует подготовке и реализации
          модели развития. Прежде всего, дальнейшее развитие различных форм
          деятельности позволяет оценить значение модели развития. Но элементы
          политического процесса указаны как претенденты на роль ключевых
          факторов. Задача организации, в особенности же семантический разбор
          внешних противодействий представляет собой интересный эксперимент
          проверки существующих финансовых и административных условий. Высокий
          уровень вовлечения представителей целевой аудитории является четким
          доказательством простого факта: понимание сути ресурсосберегающих
          технологий, а также свежий взгляд на привычные вещи - безусловно
          открывает новые горизонты для соответствующих условий активизации!
          Таким образом, выбранный нами инновационный путь не даёт нам иного
          выбора, кроме определения модели.
        </p>
      </div>

      <Xarita />

      <hr className="border-2 border-amber-700 mt-8" />

      <Footer />
    </div>
  );
};

export default KatalogDverey;
// Sardor
